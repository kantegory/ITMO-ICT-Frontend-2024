{"ast":null,"code":"import \"core-js/modules/esnext.iterator.map.js\";\nimport { ref, onMounted } from 'vue';\nimport L from 'leaflet';\nimport 'leaflet/dist/leaflet.css';\nexport default {\n  __name: 'RentalView',\n  setup(__props, {\n    expose: __expose\n  }) {\n    __expose();\n    const mapContainer = ref(null);\n    const map = ref(null);\n\n    // Функция для инициализации карты\n    const initMap = (lat, lon) => {\n      map.value = L.map(mapContainer.value).setView([lat, lon], 13); // Установка начального положения\n\n      // Подключение тайлов OpenStreetMap\n      L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png', {\n        maxZoom: 11,\n        attribution: '© OpenStreetMap'\n      }).addTo(map.value);\n\n      // Добавление маркера на карту\n      // Добавление попапа с текстом на заданные координаты\n      L.popup().setLatLng([lat, lon]).setContent('ЖК Премьер Палас').openOn(map.value); // Открывает попап на карте\n    };\n\n    // Функция для получения координат\n    const fetchCoordinates = async locationName => {\n      try {\n        const response = await fetch(`https://nominatim.openstreetmap.org/search?q=${encodeURIComponent(locationName)}&format=json`);\n        const data = await response.json();\n        if (data && data.length > 0) {\n          const lat = parseFloat(data[0].lat);\n          const lon = parseFloat(data[0].lon);\n          initMap(lat, lon);\n        } else {\n          console.error('Координаты не найдены для указанного местоположения.');\n        }\n      } catch (error) {\n        console.error('Ошибка при получении координат:', error);\n      }\n    };\n\n    // Использование onMounted для инициализации карты\n    onMounted(() => {\n      fetchCoordinates('ЖК Премьер Палас'); // Запрос координат\n    });\n    const __returned__ = {\n      mapContainer,\n      map,\n      initMap,\n      fetchCoordinates,\n      ref,\n      onMounted,\n      get L() {\n        return L;\n      }\n    };\n    Object.defineProperty(__returned__, '__isScriptSetup', {\n      enumerable: false,\n      value: true\n    });\n    return __returned__;\n  }\n};","map":{"version":3,"names":["ref","onMounted","L","mapContainer","map","initMap","lat","lon","value","setView","tileLayer","maxZoom","attribution","addTo","popup","setLatLng","setContent","openOn","fetchCoordinates","locationName","response","fetch","encodeURIComponent","data","json","length","parseFloat","console","error"],"sources":["C:/Users/Vllazebnyi/ITMO-ICT-Frontend-2024/labs/K3344/Лазебный Всеволод/lab2/src/components/RentalView.vue"],"sourcesContent":["<script setup>\r\nimport { ref, onMounted } from 'vue';\r\nimport L from 'leaflet';\r\nimport 'leaflet/dist/leaflet.css';\r\n\r\nconst mapContainer = ref(null);\r\nconst map = ref(null);\r\n\r\n// Функция для инициализации карты\r\nconst initMap = (lat, lon) => {\r\n  map.value = L.map(mapContainer.value).setView([lat, lon], 13); // Установка начального положения\r\n\r\n  // Подключение тайлов OpenStreetMap\r\n  L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png', {\r\n    maxZoom: 11,\r\n    attribution: '© OpenStreetMap'\r\n  }).addTo(map.value);\r\n\r\n  // Добавление маркера на карту\r\n  // Добавление попапа с текстом на заданные координаты\r\n  L.popup()\r\n      .setLatLng([lat, lon])\r\n      .setContent('ЖК Премьер Палас')\r\n      .openOn(map.value); // Открывает попап на карте\r\n};\r\n\r\n// Функция для получения координат\r\nconst fetchCoordinates = async (locationName) => {\r\n  try {\r\n    const response = await fetch(`https://nominatim.openstreetmap.org/search?q=${encodeURIComponent(locationName)}&format=json`);\r\n    const data = await response.json();\r\n    if (data && data.length > 0) {\r\n      const lat = parseFloat(data[0].lat);\r\n      const lon = parseFloat(data[0].lon);\r\n      initMap(lat, lon);\r\n    } else {\r\n      console.error('Координаты не найдены для указанного местоположения.');\r\n    }\r\n  } catch (error) {\r\n    console.error('Ошибка при получении координат:', error);\r\n  }\r\n};\r\n\r\n// Использование onMounted для инициализации карты\r\nonMounted(() => {\r\n  fetchCoordinates('ЖК Премьер Палас'); // Запрос координат\r\n});\r\n</script>\r\n\r\n<template>\r\n  <header>\r\n    <nav class=\"navbar-dark bg-dark\">\r\n      <div class=\"container bg-dark\">\r\n        <header class=\"d-flex justify-content-center py-3\">\r\n          <ul class=\"nav nav-pills nav-dark bg-dark\">\r\n            <li class=\"nav-item\"><a href=\"#\" class=\"nav-link active\" aria-current=\"page\">Предложения</a></li>\r\n            <li class=\"nav-item\"><a href=\"#\" class=\"nav-link\">Личный кабинет</a></li>\r\n            <li class=\"nav-item\"><a href=\"#\" class=\"nav-link\">Сообщения</a></li>\r\n          </ul>\r\n          <form class=\"d-flex search-container ms-2\">\r\n            <input class=\"form-control search-input\" type=\"search\" placeholder=\"Search\" aria-label=\"Search\">\r\n          </form>\r\n        </header>\r\n      </div>\r\n    </nav>\r\n  </header>\r\n  <!--Навигационный бар закончился-->\r\n  <main class=\"container mt-5\">\r\n    <div class=\"mb-4\">\r\n      <h1>Сдается 2-комн. квартира, 75 м² в ЖК «Премьер Палас»</h1>\r\n    </div>\r\n    <div class=\"row\">\r\n      <!-- Картиночки -->\r\n      <div class=\"col-md-8\">\r\n        <div id=\"carouselExampleIndicators\" class=\"carousel slide\" data-bs-ride=\"carousel\">\r\n          <div class=\"carousel-indicators\">\r\n            <button type=\"button\" data-bs-target=\"#carouselExampleIndicators\" data-bs-slide-to=\"0\" class=\"active\" aria-current=\"true\" aria-label=\"Slide 1\"></button>\r\n            <button type=\"button\" data-bs-target=\"#carouselExampleIndicators\" data-bs-slide-to=\"1\" aria-label=\"Slide 2\"></button>\r\n            <button type=\"button\" data-bs-target=\"#carouselExampleIndicators\" data-bs-slide-to=\"2\" aria-label=\"Slide 3\"></button>\r\n            <button type=\"button\" data-bs-target=\"#carouselExampleIndicators\" data-bs-slide-to=\"3\" aria-label=\"Slide 4\"></button>\r\n          </div>\r\n          <div class=\"carousel-inner\">\r\n            <div class=\"carousel-item active\">\r\n              <img src=\"https://images.cdn-cian.ru/images/2297254359-1.jpg\" class=\"d-block w-100\" alt=\"https://images.cdn-cian.ru/images/2297254359-1.jpg\">\r\n            </div>\r\n            <div class=\"carousel-item\">\r\n              <img src=\"https://images.cdn-cian.ru/images/2297254619-1.jpg\" class=\"d-block w-100\" alt=\"https://images.cdn-cian.ru/images/2297254619-1.jpg\">\r\n            </div>\r\n            <div class=\"carousel-item\">\r\n              <img src=\"https://images.cdn-cian.ru/images/2297255475-1.jpg\" class=\"d-block w-100\" alt=\"https://images.cdn-cian.ru/images/2297255475-1.jpg\">\r\n            </div>\r\n            <div class=\"carousel-item\">\r\n              <img src=\"https://images.cdn-cian.ru/images/2297256534-1.jpg\" class=\"d-block w-100\" alt=\"https://images.cdn-cian.ru/images/2297256534-1.jpg\">\r\n            </div>\r\n          </div>\r\n          <button class=\"carousel-control-prev\" type=\"button\" data-bs-target=\"#carouselExampleIndicators\" data-bs-slide=\"prev\">\r\n            <span class=\"carousel-control-prev-icon\" aria-hidden=\"true\"></span>\r\n            <span class=\"visually-hidden\">Previous</span>\r\n          </button>\r\n          <button class=\"carousel-control-next\" type=\"button\" data-bs-target=\"#carouselExampleIndicators\" data-bs-slide=\"next\">\r\n            <span class=\"carousel-control-next-icon\" aria-hidden=\"true\"></span>\r\n            <span class=\"visually-hidden\">Next</span>\r\n          </button>\r\n        </div>\r\n        <div class=\"mt-3\">\r\n          <h4>Описание</h4>\r\n          <p>Квартира в престижном жилом комплексе с современным ремонтом и полной инфраструктурой. Просторные комнаты, кухня и гостиная, оборудованная техникой. Близость к общественному транспорту и торговым центрам.</p>\r\n        </div>\r\n      </div>\r\n      <div class=\"col-md-4\">\r\n        <h3>Цена: <strong>150 000 ₽/мес</strong></h3>\r\n        <h4>характеристики:</h4>\r\n        <ul>\r\n          <li>Этаж: 7 из 24</li>\r\n          <li>Количество комнат: 2</li>\r\n          <li>Площадь: 75 м²</li>\r\n          <li>Совмещенный санузел</li>\r\n        </ul>\r\n        <button class=\"btn btn-primary w-100 mt-3\">Показать контакты</button>\r\n        <div class=\"mt-4\">\r\n          <h4>На карте:</h4>\r\n          <div ref=\"mapContainer\" style=\"height: 300px;\"></div> <!-- Контейнер для карты -->\r\n        </div>\r\n      </div>\r\n    </div>\r\n    <div class=\"text-center mt-5\">\r\n      <h4>Рекомендации</h4>\r\n    </div>\r\n    <div class=\"d-flex justify-content-between mt-4 row mx-auto\">\r\n      <div class=\"col-12 col-xl-4 col-md-6 mb-4\">\r\n        <div class=\"card\">\r\n          <img src=\"https://images.cdn-cian.ru/images/kvartira-sanktpeterburg-ulica-matrosa-zheleznyaka-2299586219-1.jpg\" class=\"card-img-top\" alt=\"https://images.cdn-cian.ru/images/kvartira-sanktpeterburg-ulica-matrosa-zheleznyaka-2299586219-1.jpg\">\r\n          <div class=\"card-body\">\r\n            <h5 class=\"card-title\">Студия, 18 м², 1/6 эт.</h5>\r\n            <p class=\"card-text\">Some quick example text to build on the card title and make up the bulk of the card's content.</p>\r\n            <a href=\"#\" class=\"btn btn-primary\">Посмотреть</a>\r\n          </div>\r\n        </div>\r\n      </div>\r\n      <div class=\"col-12 col-xl-4 col-md-6 mb-4\">\r\n        <div class=\"card\">\r\n          <img src=\"https://images.cdn-cian.ru/images/kvartira-sanktpeterburg-vitebskiy-prospekt-2280348381-1.jpg\" class=\"card-img-top\" alt=\"https://images.cdn-cian.ru/images/kvartira-sanktpeterburg-vitebskiy-prospekt-2280348381-1.jpg\">\r\n          <div class=\"card-body\">\r\n            <h5 class=\"card-title\">Апартаменты-студия, 12 м², 1/6 этаж</h5>\r\n            <p class=\"card-text\">Some quick example text to build on the card title and make up the bulk of the card's content.</p>\r\n            <a href=\"#\" class=\"btn btn-primary\">Посмотреть</a>\r\n          </div>\r\n        </div>\r\n      </div>\r\n      <div class=\"col-12 col-xl-4 col-md-6 mb-4\">\r\n        <div class=\"card\">\r\n          <img src=\"https://images.cdn-cian.ru/images/kvartira-sanktpeterburg-naberezhnaya-reki-moyki-2283526209-1.jpg\" class=\"card-img-top\" alt=\"https://images.cdn-cian.ru/images/kvartira-sanktpeterburg-naberezhnaya-reki-moyki-2283526209-1.jpg\">\r\n          <div class=\"card-body\">\r\n            <h5 class=\"card-title\">3-комн. квартира, 60 м², 6/6 этаж</h5>\r\n            <p class=\"card-text\">Some quick example text to build on the card title and make up the bulk of the card's content.</p>\r\n            <a href=\"#\" class=\"btn btn-primary\">Посмотреть</a>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </main>\r\n  <footer class=\"bg-dark text-white text-center py-3 mt-5\">\r\n    <div class=\"container\">\r\n      <div class=\"row\">\r\n        <div class=\"col-md-4\">\r\n          <h5>Контакты</h5>\r\n          <p>sample@email.com</p>\r\n          <p>+7 (ХХХ) ХХХ-ХХ-ХХ</p>\r\n          <p>Адрес компании</p>\r\n        </div>\r\n        <div class=\"col-md-4\">\r\n          <h5>Информация</h5>\r\n          <p><a href=\"#\" class=\"text-white\">Политика конфиденциальности</a></p>\r\n          <p><a href=\"#\" class=\"text-white\">Условия использования</a></p>\r\n          <p>&copy; 2024 Ваша компания. Все права защищены.</p>\r\n        </div>\r\n        <div class=\"col-md-4\">\r\n          <h5>Социальные сети</h5>\r\n          <a href=\"#\" class=\"text-white me-2\"><i class=\"fab fa-facebook-f\"></i></a>\r\n          <a href=\"#\" class=\"text-white me-2\"><i class=\"fab fa-instagram\"></i></a>\r\n          <a href=\"#\" class=\"text-white me-2\"><i class=\"fab fa-twitter\"></i></a>\r\n          <a href=\"#\" class=\"text-white me-2\"><i class=\"fab fa-vk\"></i></a>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </footer>\r\n</template>\r\n\r\n<style scoped>\r\n.d-block {\r\n  height: auto;\r\n  width: 100%;\r\n  aspect-ratio: 3 / 2;\r\n  object-fit: cover;\r\n}\r\n.card-img-top {\r\n  height: auto;\r\n  width: 100%;\r\n  aspect-ratio: 3 / 2;\r\n  object-fit: cover;\r\n}\r\n.card{\r\n  height: 420px;\r\n}\r\n.card-title{\r\n  white-space: nowrap;\r\n  overflow: hidden;\r\n  text-overflow: ellipsis;\r\n}\r\n.btn-primary{\r\n  display: flow;\r\n}\r\n.nav-link{\r\n  color: #ffffff;\r\n}\r\n\r\n.search-container {\r\n  display: flex;\r\n  align-items: center;\r\n}\r\n\r\n.search-input {\r\n  width: 200px;\r\n  max-width: 100%;\r\n}\r\n</style>"],"mappings":";AACA,SAASA,GAAG,EAAEC,SAAS,QAAQ,KAAK;AACpC,OAAOC,CAAC,MAAM,SAAS;AACvB,OAAO,0BAA0B;;;;;;;IAEjC,MAAMC,YAAY,GAAGH,GAAG,CAAC,IAAI,CAAC;IAC9B,MAAMI,GAAG,GAAGJ,GAAG,CAAC,IAAI,CAAC;;IAErB;IACA,MAAMK,OAAO,GAAGA,CAACC,GAAG,EAAEC,GAAG,KAAK;MAC5BH,GAAG,CAACI,KAAK,GAAGN,CAAC,CAACE,GAAG,CAACD,YAAY,CAACK,KAAK,CAAC,CAACC,OAAO,CAAC,CAACH,GAAG,EAAEC,GAAG,CAAC,EAAE,EAAE,CAAC,CAAC,CAAC;;MAE/D;MACAL,CAAC,CAACQ,SAAS,CAAC,oDAAoD,EAAE;QAChEC,OAAO,EAAE,EAAE;QACXC,WAAW,EAAE;MACf,CAAC,CAAC,CAACC,KAAK,CAACT,GAAG,CAACI,KAAK,CAAC;;MAEnB;MACA;MACAN,CAAC,CAACY,KAAK,CAAC,CAAC,CACJC,SAAS,CAAC,CAACT,GAAG,EAAEC,GAAG,CAAC,CAAC,CACrBS,UAAU,CAAC,kBAAkB,CAAC,CAC9BC,MAAM,CAACb,GAAG,CAACI,KAAK,CAAC,CAAC,CAAC;IAC1B,CAAC;;IAED;IACA,MAAMU,gBAAgB,GAAG,MAAOC,YAAY,IAAK;MAC/C,IAAI;QACF,MAAMC,QAAQ,GAAG,MAAMC,KAAK,CAAC,gDAAgDC,kBAAkB,CAACH,YAAY,CAAC,cAAc,CAAC;QAC5H,MAAMI,IAAI,GAAG,MAAMH,QAAQ,CAACI,IAAI,CAAC,CAAC;QAClC,IAAID,IAAI,IAAIA,IAAI,CAACE,MAAM,GAAG,CAAC,EAAE;UAC3B,MAAMnB,GAAG,GAAGoB,UAAU,CAACH,IAAI,CAAC,CAAC,CAAC,CAACjB,GAAG,CAAC;UACnC,MAAMC,GAAG,GAAGmB,UAAU,CAACH,IAAI,CAAC,CAAC,CAAC,CAAChB,GAAG,CAAC;UACnCF,OAAO,CAACC,GAAG,EAAEC,GAAG,CAAC;QACnB,CAAC,MAAM;UACLoB,OAAO,CAACC,KAAK,CAAC,sDAAsD,CAAC;QACvE;MACF,CAAC,CAAC,OAAOA,KAAK,EAAE;QACdD,OAAO,CAACC,KAAK,CAAC,iCAAiC,EAAEA,KAAK,CAAC;MACzD;IACF,CAAC;;IAED;IACA3B,SAAS,CAAC,MAAM;MACdiB,gBAAgB,CAAC,kBAAkB,CAAC,CAAC,CAAC;IACxC,CAAC,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}